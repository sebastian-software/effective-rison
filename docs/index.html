<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rison Demo — @effective/rison</title>
    <!-- Vite will inline styles and scripts into this HTML via single-file plugin -->
  </head>
  <body>
    <header>
      <h1>@effective/rison Demo</h1>
      <p>Live encoding/decoding — Source → Converted → Restored</p>
      <div class="controls">
        <label style="margin-right:12px"><input type="checkbox" id="useCompression" /> Use compression</label>
        <label>
          Mode:
          <select id="modeSelect">
            <option value="auto" selected>auto</option>
            <option value="gzip">gzip</option>
            <option value="deflate">deflate</option>
            <option value="none">none</option>
          </select>
        </label>
      </div>
      <p>
        Repo: <a href="https://github.com/sebastian-software/effective-rison" target="_blank" rel="noreferrer">sebastian-software/effective-rison</a>
      </p>
    </header>
    <main class="grid">
      <section>
        <label for="source">Source (editable)</label>
        <textarea id="source" spellcheck="false" wrap="off">{
  "tableId": "orders",
  "pagination": { "page": 7, "pageSize": 50 },
  "sorting": [
    { "id": "createdAt", "desc": true },
    { "id": "total", "desc": false }
  ],
  "columnVisibility": {
    "customerEmail": false,
    "internalNotes": false
  },
  "filters": {
    "status": ["paid", "shipped"],
    "total": { "gte": 100, "lte": 1000 },
    "createdAt": { "from": "2024-01-01", "to": "2024-06-30" },
    "customer": { "like": "smith" }
  },
  "columns": [
    "id",
    "createdAt",
    "customer",
    "status",
    "total",
    "currency",
    "items"
  ]
}</textarea>
        <div class="meta"><span id="sourceMeta">Characters: 0</span></div>
      </section>
      <section>
        <label for="converted">Converted (Rison)</label>
        <textarea id="converted" readonly wrap="off"></textarea>
        <div class="meta"><span id="convertedMeta">Characters: 0 • Compression: 0%</span></div>
      </section>
      <section>
        <label for="restored">Restored (read-only)</label>
        <textarea id="restored" readonly wrap="off"></textarea>
      </section>
    </main>
    <footer>
      <small>TypeScript-first, ESM-only. © Sebastian Software GmbH.</small>
    </footer>
    <script type="module" src="/main.ts"></script>
  </body>
  </html>
